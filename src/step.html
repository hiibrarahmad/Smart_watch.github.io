<!doctype html>
<html lang="en">
  <head> … </head>
  <body>
    <div id="viewer"></div>
    <div id="ui">
      <button id="fsBtn" class="btn">⤢ Fullscreen</button>
      <button id="explodeBtn" class="btn">💥 Explode</button>
    </div>

    <script src="./dist/js-3d-model-viewer.js"></script>
    <script>
    document.addEventListener('DOMContentLoaded', () => {
      const viewer     = document.getElementById('viewer');
      const fsBtn      = document.getElementById('fsBtn');
      const explodeBtn = document.getElementById('explodeBtn');
      const meshInfos  = [];
      let exploded     = false;

      const scene = Js3dModelViewer.prepareScene(viewer, { /* your options */ });

      // 3. point at the EXACT files you see under src/assets/
      const objUrl = 'src/assets/sample_02.obj';
      const mtlUrl = 'src/assets/sample_02.mtl';
      console.log('📡 fetching:', objUrl, mtlUrl);

      Js3dModelViewer.loadObject(
        scene,
        objUrl,
        mtlUrl,
        root => {
          root.traverse(c => {
            if (c.isMesh) meshInfos.push({ mesh: c, originalPos: c.position.clone() });
          });
          if (!meshInfos.length) console.warn('No meshes to explode');
        },
        err => console.error('❌ Load error:', err)
      );

      fsBtn.addEventListener('click', () => {
        if (!document.fullscreenElement) {
          viewer.requestFullscreen().then(() => fsBtn.textContent = '⤢ Exit Fullscreen');
        } else {
          document.exitFullscreen().then(() => fsBtn.textContent = '⤢ Fullscreen');
        }
      });

      explodeBtn.addEventListener('click', () => {
        exploded = !exploded;
        explodeBtn.textContent = exploded ? '🔧 Reset' : '💥 Explode';
        meshInfos.forEach(({mesh, originalPos}) => {
          const dir = originalPos.clone().normalize();
          mesh.position.copy(
            exploded
              ? originalPos.clone().add(dir.multiplyScalar(1.5))
              : originalPos
          );
        });
      });
    });
    </script>
  </body>
</html>
